### Lean4 Proof
```lean4
theorem common_divisor_iff_coprime (a b d : ℕ) (h : d ∣ a) (h' : d ∣ b) : d = Nat.gcd a b ↔ Nat.gcd (a / d) (b / d) = 1 := by
  have h₁ : d ∣ a := h
  have h₂ : d ∣ b := h'
  have h₃ : d ∣ Nat.gcd a b := Nat.dvd_gcd h₁ h₂
  have h₄ : Nat.gcd a b ∣ a := Nat.gcd_dvd_left a b
  have h₅ : Nat.gcd a b ∣ b := Nat.gcd_dvd_right a b
  have h₆ : d ∣ Nat.gcd a b := h₃
  have h₇ : Nat.gcd (a / d) (b / d) = 1 := by
    rw [Nat.gcd_div (h₁) (h₂)]
    <;> simp_all [Nat.div_self]
  constructor
  intro h₈
  simp_all
  intro h₈
  have h₉ : d = Nat.gcd a b := by
    apply Nat.dvd_antisymm h₆
    have h₁₀ : Nat.gcd a b ∣ d := by
      have h₁₁ : Nat.gcd a b ∣ a := Nat.gcd_dvd_left a b
      have h₁₂ : Nat.gcd a b ∣ b := Nat.gcd_dvd_right a b
      have h₁₃ : Nat.gcd a b ∣ a := Nat.gcd_dvd_left a b
      have h₁₄ : Nat.gcd a b ∣ b := Nat.gcd_dvd_right a b
      have h₁₅ : Nat.gcd a b ∣ Nat.gcd a b := Nat.dvd_refl (Nat.gcd a b)
      simp_all [Nat.dvd_gcd_iff]
    simp_all
  simp_all
```